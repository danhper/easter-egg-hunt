<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Easter egg</th>
      <th>Time</th>
      <th>Content</th>
      <th>Image</th>
      <th></th>
    </tr>
  </thead>
  <tbody data-controller="tooltips">
    <% first = true %>
    <% answers.each do |answer| %>
      <tr>
        <td><%= answer.user_name %></td>
        <td><%= answer.egg_input %></td>
        <td><%= answer.submitted_at.to_fs(:short) %></td>
        <td><%= answer.answer %></td>
        <td>
          <% if answer.image.attached? %>
            <%= link_to answer.image do image_tag answer.image.variant(:thumb) end %>
          <% end %>
        </td>
        <% if answer.status == "pending" %>
          <% if first %>
            <td class="answer-actions">
            <% else %>
              <td class="answer-actions" data-tooltips-target="tooltip" data-position="top" data-tooltip="Validate earlier answers first">
              <% end %>
              <%= link_to admin_answer_path(answer, answer: { status: "accepted" }), class: "btn btn-xs light-green #{!first ? 'disabled' : ''}", data: { turbo_method: :patch } do %>
                <i class="fa fa-check"></i>
              <% end %>
              <%= link_to admin_answer_path(answer, answer: { status: "rejected" }), class: "btn btn-xs red lighten-2 #{!first ? 'disabled' : ''}", data: { turbo_method: :patch } do %>
                <i class="fa fa-xmark"></i>
              <% end %>
            </td>
            <% first = false %>
          <% else %>
            <td>
              <i class="fa <%= answer_icon(answer) %>"></i> <%= answer.status.capitalize %>
            </td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
